<!DOCTYPE html>
<html>
<head>
    <title>Generate Icons</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        canvas { border: 1px solid #ccc; margin: 10px; }
        .download-btn { display: block; margin: 10px 0; padding: 10px; background: #4CAF50; color: white; text-decoration: none; border-radius: 4px; }
    </style>
</head>
<body>
    <h1>字体子集化工具 - 图标生成器</h1>

    <h2>16x16</h2>
    <canvas id="canvas16" width="16" height="16"></canvas>
    <a id="download16" class="download-btn" download="icon16.png">下载 icon16.png</a>

    <h2>32x32</h2>
    <canvas id="canvas32" width="32" height="32"></canvas>
    <a id="download32" class="download-btn" download="icon32.png">下载 icon32.png</a>

    <h2>48x48</h2>
    <canvas id="canvas48" width="48" height="48"></canvas>
    <a id="download48" class="download-btn" download="icon48.png">下载 icon48.png</a>

    <h2>128x128</h2>
    <canvas id="canvas128" width="128" height="128"></canvas>
    <a id="download128" class="download-btn" download="icon128.png">下载 icon128.png</a>

    <script>
        function drawIcon(canvas, size) {
            const ctx = canvas.getContext('2d');

            // 清空画布
            ctx.clearRect(0, 0, size, size);

            // 背景
            ctx.fillStyle = '#4A90E2';
            ctx.beginPath();
            ctx.arc(size/2, size/2, size * 0.47, 0, 2 * Math.PI);
            ctx.fill();

            // 绘制 "T" 字母（代表Type/字体）
            ctx.fillStyle = 'white';
            ctx.strokeStyle = 'white';
            ctx.lineWidth = Math.max(1, size / 32);

            // T的横线
            ctx.beginPath();
            ctx.moveTo(size * 0.3, size * 0.35);
            ctx.lineTo(size * 0.7, size * 0.35);
            ctx.stroke();

            // T的竖线
            ctx.beginPath();
            ctx.moveTo(size * 0.5, size * 0.35);
            ctx.lineTo(size * 0.5, size * 0.75);
            ctx.stroke();

            // 裁剪标记
            ctx.setLineDash([size * 0.04, size * 0.025]);
            ctx.globalAlpha = 0.6;

            // 上裁剪线
            ctx.beginPath();
            ctx.moveTo(size * 0.2, size * 0.22);
            ctx.lineTo(size * 0.8, size * 0.22);
            ctx.stroke();

            // 下裁剪线
            ctx.beginPath();
            ctx.moveTo(size * 0.2, size * 0.78);
            ctx.lineTo(size * 0.8, size * 0.78);
            ctx.stroke();

            // 小三角表示压缩
            ctx.setLineDash([]);
            ctx.globalAlpha = 1;
            ctx.fillStyle = '#FFD700';
            ctx.beginPath();
            ctx.moveTo(size * 0.85, size * 0.15);
            ctx.lineTo(size * 0.92, size * 0.25);
            ctx.lineTo(size * 0.78, size * 0.25);
            ctx.closePath();
            ctx.fill();
        }

        // 生成图标
        const sizes = [16, 32, 48, 128];
        sizes.forEach(size => {
            const canvas = document.getElementById(`canvas${size}`);
            drawIcon(canvas, size);

            // 设置下载链接
            const downloadLink = document.getElementById(`download${size}`);
            canvas.toBlob(blob => {
                const url = URL.createObjectURL(blob);
                downloadLink.href = url;
            });
        });
    </script>
</body>
</html>